<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.fsun.dao.mapper.BusRefundMapper" >
  <resultMap id="BaseResultMap" type="com.fsun.domain.model.BusRefund" >
    <id column="refund_id" property="refundId" jdbcType="VARCHAR" />
    <result column="order_id" property="orderId" jdbcType="VARCHAR" />
    <result column="ext_order_id" property="extOrderId" jdbcType="VARCHAR" />
    <result column="barter_order_id" property="barterOrderId" jdbcType="VARCHAR" />
    <result column="buyer_id" property="buyerId" jdbcType="VARCHAR" />
    <result column="buyer_name" property="buyerName" jdbcType="VARCHAR" />
    <result column="seller_id" property="sellerId" jdbcType="VARCHAR" />
    <result column="seller_name" property="sellerName" jdbcType="VARCHAR" />
    <result column="shop_id" property="shopId" jdbcType="VARCHAR" />
    <result column="shop_name" property="shopName" jdbcType="VARCHAR" />
    <result column="refund_type" property="refundType" jdbcType="SMALLINT" />
    <result column="refund_status" property="refundStatus" jdbcType="SMALLINT" />
    <result column="refund_order_status" property="refundOrderStatus" jdbcType="SMALLINT" />
    <result column="reason" property="reason" jdbcType="VARCHAR" />
    <result column="refund_reason" property="refundReason" jdbcType="SMALLINT" />
    <result column="refund_price" property="refundPrice" jdbcType="DECIMAL" />
    <result column="diff_price" property="diffPrice" jdbcType="DECIMAL" />
    <result column="change_price" property="changePrice" jdbcType="DECIMAL" />
    <result column="memo" property="memo" jdbcType="VARCHAR" />
    <result column="is_valid" property="isValid" jdbcType="BIT" />
    <result column="all_return" property="allReturn" jdbcType="BIT" />
    <result column="check_time" property="checkTime" jdbcType="TIMESTAMP" />
    <result column="refund_time" property="refundTime" jdbcType="TIMESTAMP" />
    <result column="created_time" property="createdTime" jdbcType="TIMESTAMP" />
    <result column="created_name" property="createdName" jdbcType="VARCHAR" />
    <result column="updated_time" property="updatedTime" jdbcType="TIMESTAMP" />
    <result column="updated_name" property="updatedName" jdbcType="VARCHAR" />
  </resultMap>
  
  <sql id="Base_Column_List" >
    refund_id, order_id, ext_order_id, barter_order_id, buyer_id, buyer_name, seller_id, 
    seller_name, shop_id, shop_name, refund_type, refund_status, refund_order_status, 
    reason, refund_reason, refund_price, diff_price, change_price, memo, is_valid, all_return, 
    check_time, refund_time, created_time, created_name, updated_time, updated_name
  </sql>
  
  <sql id="conditions">
  	<where>  	
  		<if test="q != null and q != ''">
  			and (a.refund_id like concat(concat('%',#{q}),'%')  
  				or a.order_id like concat(concat('%',#{q}),'%')  
  				)
  		</if>
  		
  		<if test="barterOrderId != null and barterOrderId != ''">
  			and a.barter_order_id like concat(concat('%',#{barterOrderId}),'%')  
  		</if>
  			
  		<if test="shopId != null and shopId != ''">
  			and a.shop_id = #{shopId}
  		</if>
  		
  		<if test="buyerId != null and buyerId != ''">
  			and a.buyer_id = #{buyerId}
  		</if>
  		
  		<if test="refundStatus != null">
  			and a.refund_status = #{refundStatus}
  		</if>
  		
  		<if test="refundType != null">
			and a.refund_type = #{refundType}
		</if>
		
		<if test="refundReason != null">
			and a.refund_reason = #{refundReason}
		</if>
  		
  		<if test="startTime != null">
			and a.refund_time<![CDATA[ >= ]]> #{startTime,jdbcType=TIMESTAMP}
		</if>
		<if test="endTime != null">
			and a.refund_time <![CDATA[ <= ]]>#{endTime,jdbcType=TIMESTAMP}
		</if>
  		
	</where>
  </sql>
  
  <select id="selectList" resultMap="BaseResultMap" 
  	parameterType="com.fsun.domain.entity.BusRefundCondition" >    
	SELECT 
		<include refid="Base_Column_List" />
    FROM bus_refund a
    	<include refid="conditions" />
  </select>
  
  <select id="selectListMap" resultType="java.util.Map" 
  	parameterType="com.fsun.domain.entity.BusRefundCondition" >    
	SELECT 
		<include refid="Base_Column_List" />
    FROM bus_refund a 
    	<include refid="conditions" />
  </select>
  
  <select id="getMaxRefundId" resultType="java.lang.String" parameterType="java.lang.String" >    
	select 
		refund_id 
	from bus_refund 
	where refund_id like concat(#{prefix},'%')
	order by refund_id desc 
  </select>
  
  <resultMap id="HeaderMap" type="java.util.Map" extends="BaseResultMap" >
  	<result column="o_refund_id" property="refundId" />
    <result column="o_order_id" property="orderId" />
    <result column="o_ext_order_id" property="extOrderId" />
    <result column="o_barter_order_id" property="barterOrderId" />
    <result column="o_buyer_id" property="buyerId"/>
    <result column="o_buyer_name" property="buyerName"/>
    <result column="o_seller_id" property="sellerId"/>
    <result column="o_seller_name" property="sellerName"/>
    <result column="o_shop_id" property="shopId"/>
    <result column="o_shop_name" property="shopName"/>    
    <result column="o_refund_type" property="refundType"/> 
    <result column="o_refund_status" property="refundStatus" />       
    <result column="o_refund_order_status" property="refundOrderStatus"/>    
    <result column="o_refund_reason" property="refundReason"/>
    <result column="o_reason" property="reason"/>   
    <result column="o_refund_price" property="refundPrice"/>
    <result column="o_diff_price" property="diffPrice"/>    
    <result column="o_change_price" property="changePrice"/>
    <result column="o_memo" property="memo"/>    
    <result column="o_is_valid" property="isValid"/>
    <result column="o_all_return" property="allReturn"/>  
    <result column="o_check_time" property="checkTime"/>
    <result column="o_refund_time" property="refundTime"/>    
    <result column="o_created_time" property="createdTime"/>
    <result column="o_created_name" property="createdName"/>
    <result column="o_updated_time" property="updatedTime"/>
    <result column="o_updated_name" property="updatedName"/>    
  </resultMap>
  
  <resultMap id="DefinedResultMap" type="java.util.Map"> 	
  	<id column="o_refund_id" property="refundId"/>  
  	<association property="refundHeader" resultMap="HeaderMap" />   	   
    <collection property="refundDetails" javaType="java.util.ArrayList" ofType="java.util.Map">
      <id column="d_goods_id" property="goodsId"/>
      <result column="d_order_id" property="orderId"/> 
      <result column="d_line_no" property="lineNo"/> 
      <result column="d_goods_type" property="goodsType"/> 
      <result column="d_product_type" property="productType"/> 
      <result column="d_category_code" property="categoryCode"/> 
      <result column="d_category_name" property="categoryName"/> 
      <result column="d_bar_code" property="barCode"/> 
      <result column="d_brand_code" property="brandCode"/> 
      <result column="d_brand_name" property="brandName"/> 
      <result column="d_goods_name" property="goodsName"/> 
      <result column="d_sku" property="sku"/> 
      <result column="d_parent_sku" property="parentSku"/> 
      <result column="d_sku_id" property="skuId"/> 
      <result column="d_parent_sku_id" property="parentSkuId"/>
      <result column="d_en_unit" property="enUnit"/> 
      <result column="d_qty" property="qty"/>
      <result column="d_origin_qty" property="originQty"/>      
      <result column="d_unit" property="unit"/>
      <result column="d_convert_qty" property="convertQty"/>
      <result column="d_convert_unit" property="convertUnit"/>
      <result column="d_market_price" property="marketPrice"/>
      <result column="d_origin_sale_price" property="originSalePrice"/>
      <result column="d_sale_price" property="salePrice"/>
      <result column="d_part_price" property="partPrice"/>
      <result column="d_coupon_price" property="couponPrice"/>
      <result column="d_discount_price" property="discountPrice"/>
      <result column="d_total_price" property="totalPrice"/>
      <result column="d_cost_price" property="costPrice"/>    
      <result column="d_rate_precent" property="ratePrecent"/>
      <result column="d_is_gift" property="isGift"/>
      <result column="d_gift_count" property="giftCount"/>
      <result column="d_gift_price" property="giftPrice"/>
      <result column="d_is_show" property="isShow"/>
      <result column="d_property" property="property"/> 
      <result column="d_memo" property="memo"/>
      <result column="d_created_time" property="createdTime"/>
      <result column="d_updated_time" property="updatedTime"/>
    </collection> 
    <collection property="payAccounts" javaType="java.util.ArrayList" ofType="java.util.Map">
      <id column="p_pay_id" property="payId"/>
      <result column="p_order_id" property="orderId"/> 
      <result column="p_line_no" property="lineNo"/> 
      <result column="p_vip_id" property="vipId"/>
      <result column="p_shop_id" property="shopId"/>
      <result column="p_shop_name" property="shopName"/>
      <result column="p_card_no" property="cardNo"/>
      <result column="p_pay_mode" property="payMode"/>
      <result column="p_pay_type" property="payType"/>
      <result column="p_point_fee" property="pointFee"/>
      <result column="p_bank_account_name" property="bankAccountName"/>
      <result column="p_bank_account_no" property="bankAccountNo"/>
      <result column="p_bank_name" property="bankName"/>
      <result column="p_buyer_name" property="buyerName"/>
      <result column="p_buyer_account" property="buyerAccount"/>
      <result column="p_pay_price" property="payPrice"/>
      <result column="p_recept_price" property="receptPrice"/>
      <result column="p_dib_price" property="dibPrice"/>
      <result column="p_over_amount" property="overAmount"/>
      <result column="p_discount_amount" property="discountAmount"/>
      <result column="p_memo" property="memo"/>
      <result column="p_trade_time" property="tradeTime"/>
    </collection> 
  </resultMap>
  
  <select id="loadEntity" resultMap="DefinedResultMap" parameterType="java.lang.String" >
    select 
    	o.refund_id as o_refund_id,
    	o.order_id as o_order_id,
    	o.ext_order_id as o_ext_order_id,
    	o.barter_order_id as o_barter_order_id,
    	o.buyer_id as o_buyer_id,
		o.buyer_name as o_buyer_name,
		o.seller_id as o_seller_id,
		o.seller_name as o_seller_name,
		o.shop_id as o_shop_id,
		o.shop_name as o_shop_name,
		o.refund_type as o_refund_type,
		o.refund_status as o_refund_status,
		o.refund_order_status as o_refund_order_status,
		o.reason as o_reason,
		o.refund_reason as o_refund_reason,
		o.refund_price as o_refund_price,
		o.diff_price as o_diff_price,
		o.change_price as o_change_price,
		o.memo as o_memo,
		o.is_valid as o_is_valid,
		o.all_return as o_all_return,
		o.check_time as o_check_time,
		o.refund_time as o_refund_time,
		o.created_time as o_created_time,
		o.created_name as o_created_name,
		o.updated_time as o_updated_time,
		o.updated_name as o_updated_name,
		d.goods_id as d_goods_id,
		d.order_id as d_order_id ,
		d.line_no as d_line_no,
		d.goods_type as d_goods_type,
		d.product_type as d_product_type,
		d.category_code as d_category_code,
		d.category_name as d_category_name, 
		d.bar_code as d_bar_code,
		d.brand_code as d_brand_code,
		d.brand_name as d_brand_name,
		d.goods_name as d_goods_name,
		d.sku as d_sku,
		d.parent_sku as d_parent_sku, 
		d.sku_id as d_sku_id,
		d.parent_sku_id as d_parent_sku_id,
		d.en_unit as d_en_unit ,
		d.qty as d_qty,
		d.unit as d_unit,
		d.convert_qty as d_convert_qty,
		d.convert_unit as d_convert_unit,
		d.market_price as d_market_price,
		d.origin_sale_price as d_origin_sale_price,
		d.sale_price as d_sale_price,
		d.part_price as d_part_price,
		d.coupon_price as d_coupon_price,
		d.discount_price as d_discount_price,
		d.total_price as d_total_price,
		d.cost_price as d_cost_price,
		d.rate_precent as d_rate_precent,
		d.is_gift as d_is_gift,
		d.gift_count as d_gift_count,
		d.gift_price as d_gift_price,
		d.is_show as d_is_show,
		d.property as d_property,
		d.memo as d_memo,
		d.created_time as d_created_time,
		d.updated_time as d_updated_time,
		p.pay_id as p_pay_id,
		p.order_id as p_order_id ,
		p.line_no as p_line_no ,
		p.vip_id as p_vip_id,
		p.shop_id as p_shop_id,
		p.shop_name as p_shop_name,
		p.card_no as p_card_no,
		p.pay_mode as p_pay_mode,
		p.pay_type as p_pay_type,
		p.bank_account_name as p_bank_account_name,
		p.bank_account_no as p_bank_account_no,
		p.bank_name as p_bank_name,
		p.buyer_name as p_buyer_name,
		p.buyer_account as p_buyer_account,
		p.pay_price as p_pay_price,
		p.recept_price as p_recept_price,
		p.dib_price as p_dib_price,
		p.over_amount as p_over_amount,
		p.discount_amount as p_discount_amount,
		p.memo as p_memo,
		p.trade_time as p_trade_time
    from bus_refund o
    left join bus_refund_goods d on d.refund_id = o.refund_id
    left join bus_pay_account p on p.order_id = o.refund_id
    where o.refund_id = #{refundId,jdbcType=VARCHAR}
    order by d.sku asc
  </select>
  
  
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    from bus_refund
    where refund_id = #{refundId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from bus_refund
    where refund_id = #{refundId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.fsun.domain.model.BusRefund" >
    insert into bus_refund (refund_id, order_id, ext_order_id, 
      barter_order_id, buyer_id, buyer_name, 
      seller_id, seller_name, shop_id, 
      shop_name, refund_type, refund_status, 
      refund_order_status, reason, refund_reason, 
      refund_price, diff_price, change_price, 
      memo, is_valid, all_return, check_time, 
      refund_time, created_time, created_name, 
      updated_time, updated_name)
    values (#{refundId,jdbcType=VARCHAR}, #{orderId,jdbcType=VARCHAR}, #{extOrderId,jdbcType=VARCHAR}, 
      #{barterOrderId,jdbcType=VARCHAR}, #{buyerId,jdbcType=VARCHAR}, #{buyerName,jdbcType=VARCHAR}, 
      #{sellerId,jdbcType=VARCHAR}, #{sellerName,jdbcType=VARCHAR}, #{shopId,jdbcType=VARCHAR}, 
      #{shopName,jdbcType=VARCHAR}, #{refundType,jdbcType=SMALLINT}, #{refundStatus,jdbcType=SMALLINT}, 
      #{refundOrderStatus,jdbcType=SMALLINT}, #{reason,jdbcType=VARCHAR}, #{refundReason,jdbcType=SMALLINT}, 
      #{refundPrice,jdbcType=DECIMAL}, #{diffPrice,jdbcType=DECIMAL}, #{changePrice,jdbcType=DECIMAL}, 
      #{memo,jdbcType=VARCHAR}, #{isValid,jdbcType=BIT}, #{allReturn,jdbcType=BIT}, #{checkTime,jdbcType=TIMESTAMP}, 
      #{refundTime,jdbcType=TIMESTAMP}, #{createdTime,jdbcType=TIMESTAMP}, #{createdName,jdbcType=VARCHAR}, 
      #{updatedTime,jdbcType=TIMESTAMP}, #{updatedName,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.fsun.domain.model.BusRefund" >
    insert into bus_refund
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="refundId != null" >
        refund_id,
      </if>
      <if test="orderId != null" >
        order_id,
      </if>
      <if test="extOrderId != null" >
        ext_order_id,
      </if>
      <if test="barterOrderId != null" >
        barter_order_id,
      </if>
      <if test="buyerId != null" >
        buyer_id,
      </if>
      <if test="buyerName != null" >
        buyer_name,
      </if>
      <if test="sellerId != null" >
        seller_id,
      </if>
      <if test="sellerName != null" >
        seller_name,
      </if>
      <if test="shopId != null" >
        shop_id,
      </if>
      <if test="shopName != null" >
        shop_name,
      </if>
      <if test="refundType != null" >
        refund_type,
      </if>
      <if test="refundStatus != null" >
        refund_status,
      </if>
      <if test="refundOrderStatus != null" >
        refund_order_status,
      </if>
      <if test="reason != null" >
        reason,
      </if>
      <if test="refundReason != null" >
        refund_reason,
      </if>
      <if test="refundPrice != null" >
        refund_price,
      </if>
      <if test="diffPrice != null" >
        diff_price,
      </if>
      <if test="changePrice != null" >
        change_price,
      </if>
      <if test="memo != null" >
        memo,
      </if>
      <if test="isValid != null" >
        is_valid,
      </if>
      <if test="allReturn != null" >
        all_return,
      </if>
      <if test="checkTime != null" >
        check_time,
      </if>
      <if test="refundTime != null" >
        refund_time,
      </if>
      <if test="createdTime != null" >
        created_time,
      </if>
      <if test="createdName != null" >
        created_name,
      </if>
      <if test="updatedTime != null" >
        updated_time,
      </if>
      <if test="updatedName != null" >
        updated_name,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="refundId != null" >
        #{refundId,jdbcType=VARCHAR},
      </if>
      <if test="orderId != null" >
        #{orderId,jdbcType=VARCHAR},
      </if>
      <if test="extOrderId != null" >
        #{extOrderId,jdbcType=VARCHAR},
      </if>
      <if test="barterOrderId != null" >
        #{barterOrderId,jdbcType=VARCHAR},
      </if>
      <if test="buyerId != null" >
        #{buyerId,jdbcType=VARCHAR},
      </if>
      <if test="buyerName != null" >
        #{buyerName,jdbcType=VARCHAR},
      </if>
      <if test="sellerId != null" >
        #{sellerId,jdbcType=VARCHAR},
      </if>
      <if test="sellerName != null" >
        #{sellerName,jdbcType=VARCHAR},
      </if>
      <if test="shopId != null" >
        #{shopId,jdbcType=VARCHAR},
      </if>
      <if test="shopName != null" >
        #{shopName,jdbcType=VARCHAR},
      </if>
      <if test="refundType != null" >
        #{refundType,jdbcType=SMALLINT},
      </if>
      <if test="refundStatus != null" >
        #{refundStatus,jdbcType=SMALLINT},
      </if>
      <if test="refundOrderStatus != null" >
        #{refundOrderStatus,jdbcType=SMALLINT},
      </if>
      <if test="reason != null" >
        #{reason,jdbcType=VARCHAR},
      </if>
      <if test="refundReason != null" >
        #{refundReason,jdbcType=SMALLINT},
      </if>
      <if test="refundPrice != null" >
        #{refundPrice,jdbcType=DECIMAL},
      </if>
      <if test="diffPrice != null" >
        #{diffPrice,jdbcType=DECIMAL},
      </if>
      <if test="changePrice != null" >
        #{changePrice,jdbcType=DECIMAL},
      </if>
      <if test="memo != null" >
        #{memo,jdbcType=VARCHAR},
      </if>
      <if test="isValid != null" >
        #{isValid,jdbcType=BIT},
      </if>
      <if test="allReturn != null" >
        #{allReturn,jdbcType=BIT},
      </if>
      <if test="checkTime != null" >
        #{checkTime,jdbcType=TIMESTAMP},
      </if>
      <if test="refundTime != null" >
        #{refundTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createdTime != null" >
        #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createdName != null" >
        #{createdName,jdbcType=VARCHAR},
      </if>
      <if test="updatedTime != null" >
        #{updatedTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updatedName != null" >
        #{updatedName,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.fsun.domain.model.BusRefund" >
    update bus_refund
    <set >
      <if test="orderId != null" >
        order_id = #{orderId,jdbcType=VARCHAR},
      </if>
      <if test="extOrderId != null" >
        ext_order_id = #{extOrderId,jdbcType=VARCHAR},
      </if>
      <if test="barterOrderId != null" >
        barter_order_id = #{barterOrderId,jdbcType=VARCHAR},
      </if>
      <if test="buyerId != null" >
        buyer_id = #{buyerId,jdbcType=VARCHAR},
      </if>
      <if test="buyerName != null" >
        buyer_name = #{buyerName,jdbcType=VARCHAR},
      </if>
      <if test="sellerId != null" >
        seller_id = #{sellerId,jdbcType=VARCHAR},
      </if>
      <if test="sellerName != null" >
        seller_name = #{sellerName,jdbcType=VARCHAR},
      </if>
      <if test="shopId != null" >
        shop_id = #{shopId,jdbcType=VARCHAR},
      </if>
      <if test="shopName != null" >
        shop_name = #{shopName,jdbcType=VARCHAR},
      </if>
      <if test="refundType != null" >
        refund_type = #{refundType,jdbcType=SMALLINT},
      </if>
      <if test="refundStatus != null" >
        refund_status = #{refundStatus,jdbcType=SMALLINT},
      </if>
      <if test="refundOrderStatus != null" >
        refund_order_status = #{refundOrderStatus,jdbcType=SMALLINT},
      </if>
      <if test="reason != null" >
        reason = #{reason,jdbcType=VARCHAR},
      </if>
      <if test="refundReason != null" >
        refund_reason = #{refundReason,jdbcType=SMALLINT},
      </if>
      <if test="refundPrice != null" >
        refund_price = #{refundPrice,jdbcType=DECIMAL},
      </if>
      <if test="diffPrice != null" >
        diff_price = #{diffPrice,jdbcType=DECIMAL},
      </if>
      <if test="changePrice != null" >
        change_price = #{changePrice,jdbcType=DECIMAL},
      </if>
      <if test="memo != null" >
        memo = #{memo,jdbcType=VARCHAR},
      </if>
      <if test="isValid != null" >
        is_valid = #{isValid,jdbcType=BIT},
      </if>
      <if test="allReturn != null" >
        all_return = #{allReturn,jdbcType=BIT},
      </if>
      <if test="checkTime != null" >
        check_time = #{checkTime,jdbcType=TIMESTAMP},
      </if>
      <if test="refundTime != null" >
        refund_time = #{refundTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createdTime != null" >
        created_time = #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createdName != null" >
        created_name = #{createdName,jdbcType=VARCHAR},
      </if>
      <if test="updatedTime != null" >
        updated_time = #{updatedTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updatedName != null" >
        updated_name = #{updatedName,jdbcType=VARCHAR},
      </if>
    </set>
    where refund_id = #{refundId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.fsun.domain.model.BusRefund" >
    update bus_refund
    set order_id = #{orderId,jdbcType=VARCHAR},
      ext_order_id = #{extOrderId,jdbcType=VARCHAR},
      barter_order_id = #{barterOrderId,jdbcType=VARCHAR},
      buyer_id = #{buyerId,jdbcType=VARCHAR},
      buyer_name = #{buyerName,jdbcType=VARCHAR},
      seller_id = #{sellerId,jdbcType=VARCHAR},
      seller_name = #{sellerName,jdbcType=VARCHAR},
      shop_id = #{shopId,jdbcType=VARCHAR},
      shop_name = #{shopName,jdbcType=VARCHAR},
      refund_type = #{refundType,jdbcType=SMALLINT},
      refund_status = #{refundStatus,jdbcType=SMALLINT},
      refund_order_status = #{refundOrderStatus,jdbcType=SMALLINT},
      reason = #{reason,jdbcType=VARCHAR},
      refund_reason = #{refundReason,jdbcType=SMALLINT},
      refund_price = #{refundPrice,jdbcType=DECIMAL},
      diff_price = #{diffPrice,jdbcType=DECIMAL},
      change_price = #{changePrice,jdbcType=DECIMAL},
      memo = #{memo,jdbcType=VARCHAR},
      is_valid = #{isValid,jdbcType=BIT},
      all_return = #{allReturn,jdbcType=BIT},
      check_time = #{checkTime,jdbcType=TIMESTAMP},
      refund_time = #{refundTime,jdbcType=TIMESTAMP},
      created_time = #{createdTime,jdbcType=TIMESTAMP},
      created_name = #{createdName,jdbcType=VARCHAR},
      updated_time = #{updatedTime,jdbcType=TIMESTAMP},
      updated_name = #{updatedName,jdbcType=VARCHAR}
    where refund_id = #{refundId,jdbcType=VARCHAR}
  </update>
</mapper>